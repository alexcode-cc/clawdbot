# å¾é›¶é–‹å§‹è¨­å®šå¯¦ä½œæŒ‡å—

æœ¬æŒ‡å—å°‡è©³ç´°èªªæ˜å¦‚ä½•å¾ç„¡åˆ°æœ‰è¨­å®š Moltbotï¼Œå¯¦ç¾ä»¥ä¸‹å®Œæ•´å·¥ä½œæµç¨‹ï¼š

1. **ä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹æˆ– Claude Code è¨‚é–±** ä½œç‚º AI å¼•æ“
2. **ä½¿ç”¨ Discord æ©Ÿå™¨äºº** ä½œç‚ºé€šè¨Šé »é“
3. **è‡ªå‹•æ”¶ç™¼ Gmail** ä¸¦è§¸ç™¼ AI è™•ç†
4. **é€é Discord æ©Ÿå™¨äººæ’°å¯«å°ˆæ¡ˆ** ä¸¦è‡ªå‹•ä¸Šå‚³åˆ° GitHub
5. **å®Œæˆå¾Œç™¼é€ Gmail é€šçŸ¥** ä¸¦é€é Discord å‘ŠçŸ¥

> **æœ¬æŒ‡å—é è¨­ä½¿ç”¨ Ollama ä¼ºæœå™¨ï¼ˆ192.168.168.168:11434ï¼‰ä½œç‚º AI å¼•æ“**ï¼Œæ‚¨ä¹Ÿå¯ä»¥é¸æ“‡ä½¿ç”¨ Claude Code è¨‚é–±ã€‚

## ç›®éŒ„

- [å‰ç½®éœ€æ±‚](#å‰ç½®éœ€æ±‚)
- [ç¬¬ä¸€æ­¥ï¼šå®‰è£ Moltbot](#ç¬¬ä¸€æ­¥å®‰è£-moltbot)
- [ç¬¬äºŒæ­¥ï¼šAI æ¨¡å‹è¨­å®š](#ç¬¬äºŒæ­¥ai-æ¨¡å‹è¨­å®š)
  - [é¸é … Aï¼šä½¿ç”¨æœ¬åœ° Ollama ä¼ºæœå™¨](#é¸é …-aä½¿ç”¨æœ¬åœ°-ollama-ä¼ºæœå™¨æ¨è–¦ç”¨æ–¼æœ¬åœ°éƒ¨ç½²)
  - [é¸é … Bï¼šä½¿ç”¨ Claude Code è¨‚é–±](#é¸é …-bä½¿ç”¨-claude-code-è¨‚é–±)
- [ç¬¬ä¸‰æ­¥ï¼šDiscord æ©Ÿå™¨äººè¨­å®š](#ç¬¬ä¸‰æ­¥discord-æ©Ÿå™¨äººè¨­å®š)
- [ç¬¬å››æ­¥ï¼šGmail è‡ªå‹•æ”¶ç™¼è¨­å®š](#ç¬¬å››æ­¥gmail-è‡ªå‹•æ”¶ç™¼è¨­å®š)
- [ç¬¬äº”æ­¥ï¼šGitHub è‡ªå‹•ä¸Šå‚³è¨­å®š](#ç¬¬äº”æ­¥github-è‡ªå‹•ä¸Šå‚³è¨­å®š)
- [ç¬¬å…­æ­¥ï¼šæ•´åˆå·¥ä½œæµç¨‹è¨­å®š](#ç¬¬å…­æ­¥æ•´åˆå·¥ä½œæµç¨‹è¨­å®š)
- [ç¬¬ä¸ƒæ­¥ï¼šå•Ÿå‹•èˆ‡æ¸¬è©¦](#ç¬¬ä¸ƒæ­¥å•Ÿå‹•èˆ‡æ¸¬è©¦)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## å‰ç½®éœ€æ±‚

### ç³»çµ±éœ€æ±‚

| é …ç›® | éœ€æ±‚ |
|------|------|
| ä½œæ¥­ç³»çµ± | macOS 13.0+ã€Ubuntu 20.04+ã€Windows 10 1809+ |
| Node.js | >= 22.12.0 |
| RAM | 4 GB ä»¥ä¸Š |
| ç¶²è·¯ | éœ€è¦ç©©å®šçš„ç¶²éš›ç¶²è·¯é€£ç·š |

### å¿…è¦å¸³è™Ÿ

1. **Ollama ä¼ºæœå™¨**ï¼ˆæœ¬åœ°æˆ–é ç«¯ï¼Œå¦‚ `192.168.168.168:11434`ï¼‰æˆ– **Claude è¨‚é–±å¸³è™Ÿ**
2. **Discord å¸³è™Ÿ**ï¼ˆç”¨æ–¼å»ºç«‹æ©Ÿå™¨äººï¼‰
3. **Gmail å¸³è™Ÿ**ï¼ˆç”¨æ–¼è‡ªå‹•æ”¶ç™¼éƒµä»¶ï¼‰
4. **GitHub å¸³è™Ÿ**ï¼ˆç”¨æ–¼ç¨‹å¼ç¢¼è¨—ç®¡ï¼‰
5. **Google Cloud Platform å¸³è™Ÿ**ï¼ˆç”¨æ–¼ Gmail Pub/Subï¼‰
6. **Tailscale å¸³è™Ÿ**ï¼ˆç”¨æ–¼å…¬é–‹ HTTPS ç«¯é»ï¼‰

### å¿…è¦å·¥å…·

```bash
# ç¢ºèª Node.js ç‰ˆæœ¬
node --version  # æ‡‰ç‚º v22.x.x æˆ–æ›´é«˜

# å®‰è£ pnpmï¼ˆå¦‚æœå°šæœªå®‰è£ï¼‰
npm install -g pnpm

# å®‰è£ Git
git --version
```

---

## ç¬¬ä¸€æ­¥ï¼šå®‰è£ Moltbot

### æ–¹æ³• Aï¼šä½¿ç”¨ npm å…¨åŸŸå®‰è£ï¼ˆæ¨è–¦ï¼‰

```bash
npm install -g moltbot@latest

# é©—è­‰å®‰è£
moltbot --version
```

### æ–¹æ³• Bï¼šå¾åŸå§‹ç¢¼å»ºç½®

```bash
# è¤‡è£½å°ˆæ¡ˆ
git clone https://github.com/moltbot/moltbot.git
cd moltbot

# å®‰è£ä¾è³´
pnpm install

# å»ºç½®
pnpm build

# é©—è­‰
pnpm moltbot --version
```

### åˆå§‹åŒ–é…ç½®ç›®éŒ„

```bash
# å»ºç«‹é…ç½®ç›®éŒ„
mkdir -p ~/.clawdbot

# å»ºç«‹åŸºæœ¬é…ç½®æª”
cat > ~/.clawdbot/config.json5 << 'EOF'
{
  // åŸºæœ¬é…ç½®ï¼Œç¨å¾Œæœƒé€æ­¥è£œå……
}
EOF
```

---

## ç¬¬äºŒæ­¥ï¼šAI æ¨¡å‹è¨­å®š

Moltbot æ”¯æ´å¤šç¨® AI æ¨¡å‹æä¾›è€…ã€‚ä»¥ä¸‹èªªæ˜ Claude Code è¨‚é–±å’Œæœ¬åœ° Ollama ä¼ºæœå™¨çš„è¨­å®šæ–¹å¼ã€‚

---

### é¸é … Aï¼šä½¿ç”¨æœ¬åœ° Ollama ä¼ºæœå™¨ï¼ˆæ¨è–¦ç”¨æ–¼æœ¬åœ°éƒ¨ç½²ï¼‰

å¦‚æœæ‚¨æœ‰è‡ªå·±çš„ Ollama ä¼ºæœå™¨ï¼ˆä¾‹å¦‚é‹è¡Œåœ¨ `192.168.168.168:11434`ï¼‰ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æœ¬åœ°æ¨¡å‹ã€‚

#### A.1 ç¢ºèª Ollama ä¼ºæœå™¨é‹è¡Œä¸­

```bash
# æ¸¬è©¦é€£ç·šï¼ˆå¾æ‚¨çš„æ©Ÿå™¨ï¼‰
curl http://192.168.168.168:11434/api/tags

# æ‡‰è©²è¿”å›å·²å®‰è£çš„æ¨¡å‹åˆ—è¡¨
```

#### A.2 è¨­å®š Moltbot ä½¿ç”¨é ç«¯ Ollama

ç·¨è¼¯ `~/.clawdbot/config.json5`ï¼š

```json5
{
  // è¨­å®š Ollama æä¾›è€…ï¼ˆé ç«¯ä¼ºæœå™¨ï¼‰
  models: {
    providers: {
      ollama: {
        baseUrl: "http://192.168.168.168:11434/v1",
        apiKey: "ollama-local",  // Ollama ä¸éœ€è¦çœŸå¯¦ API key
        api: "openai-completions",
        models: [
          {
            id: "llama3.3",
            name: "Llama 3.3",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 8192,
            maxTokens: 81920
          },
          {
            id: "qwen2.5-coder:32b",
            name: "Qwen 2.5 Coder 32B",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 32768,
            maxTokens: 327680
          },
          {
            id: "deepseek-r1:32b",
            name: "DeepSeek R1 32B",
            reasoning: true,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 32768,
            maxTokens: 327680
          }
        ]
      }
    }
  },
  
  // è¨­å®šé è¨­ä½¿ç”¨ Ollama æ¨¡å‹
  agents: {
    defaults: {
      model: {
        primary: "ollama/qwen2.5-coder:32b",
        fallbacks: [
          "ollama/llama3.3",
          "ollama/deepseek-r1:32b"
        ]
      }
    }
  }
}
```

#### A.3 æˆ–ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼ˆé©ç”¨æ–¼æœ¬åœ° Ollamaï¼‰

å¦‚æœ Ollama é‹è¡Œåœ¨æœ¬æ©Ÿï¼ˆ127.0.0.1ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ç°¡åŒ–è¨­å®šï¼š

```bash
# è¨­å®šç’°å¢ƒè®Šæ•¸
export OLLAMA_API_KEY="ollama-local"
export OLLAMA_BASE_URL="http://192.168.168.168:11434"
```

ç„¶å¾Œåœ¨é…ç½®ä¸­ï¼š

```json5
{
  agents: {
    defaults: {
      model: { primary: "ollama/qwen2.5-coder:32b" }
    }
  }
}
```

#### A.4 é©—è­‰ Ollama è¨­å®š

```bash
# åˆ—å‡ºå¯ç”¨æ¨¡å‹
moltbot models list

# æ‡‰è©²çœ‹åˆ° ollama/* æ¨¡å‹
```

---

### é¸é … Bï¼šä½¿ç”¨ Claude Code è¨‚é–±

Claude Code æ˜¯ Anthropic æä¾›çš„ç¨‹å¼è¨­è¨ˆåŠ©æ‰‹ï¼ŒMoltbot å¯é€é setup-token ä½¿ç”¨æ‚¨çš„ Claude è¨‚é–±ã€‚

### B.1 å®‰è£ Claude Code CLI

#### macOS / Linux / WSL

```bash
curl -fsSL https://claude.ai/install.sh | bash
```

#### Windows PowerShell

```powershell
irm https://claude.ai/install.ps1 | iex
```

### B.2 ç™»å…¥ Claude Code

```bash
# äº’å‹•å¼ç™»å…¥
claude

# æŒ‰ç…§æç¤ºå®Œæˆç€è¦½å™¨ç™»å…¥
```

### B.3 ç”¢ç”Ÿ Setup Token

Setup Token ç”¨æ–¼è®“ Moltbot ä½¿ç”¨æ‚¨çš„ Claude è¨‚é–±ï¼š

```bash
# åœ¨ä»»ä½•å·²ç™»å…¥ Claude çš„æ©Ÿå™¨ä¸ŠåŸ·è¡Œ
claude setup-token
```

æ‚¨æœƒçœ‹åˆ°é¡ä¼¼ä»¥ä¸‹çš„è¼¸å‡ºï¼š

```
Setup token generated!

Copy this token and paste it into your application:
eyJhbGciOiJIUzI1NiIs...ï¼ˆå¾ˆé•·çš„ tokenï¼‰

This token will expire in 24 hours.
```

**é‡è¦ï¼šè¤‡è£½æ­¤ tokenï¼Œç¨å¾Œæœƒç”¨åˆ°ã€‚**

### B.4 åœ¨ Moltbot ä¸­è¨­å®š Claude

#### æ–¹æ³• Aï¼šä½¿ç”¨è¨­å®šç²¾éˆï¼ˆæ¨è–¦ï¼‰

```bash
moltbot onboard --auth-choice setup-token
# é¸æ“‡ï¼šAnthropic token (paste setup-token)
# è²¼ä¸Šå‰›æ‰è¤‡è£½çš„ token
```

#### æ–¹æ³• Bï¼šä½¿ç”¨å‘½ä»¤åˆ—

```bash
# åœ¨ Gateway ä¸»æ©Ÿä¸ŠåŸ·è¡Œ
moltbot models auth paste-token --provider anthropic
# è²¼ä¸Š setup-token
```

#### æ–¹æ³• Cï¼šç›´æ¥ç·¨è¼¯é…ç½®

```json5
// ~/.clawdbot/config.json5
{
  agents: {
    defaults: {
      model: {
        primary: "anthropic/claude-sonnet-4-5",
        fallbacks: [
          "anthropic/claude-opus-4-5",
          "anthropic/claude-haiku-4-5"
        ]
      }
    }
  }
}
```

### B.5 é©—è­‰ Claude è¨­å®š

```bash
# æª¢æŸ¥èªè­‰ç‹€æ…‹
moltbot models status

# æ‡‰è©²çœ‹åˆ° anthropic æä¾›è€…å·²èªè­‰
```

---

## ç¬¬ä¸‰æ­¥ï¼šDiscord æ©Ÿå™¨äººè¨­å®š

### 3.1 å»ºç«‹ Discord æ‡‰ç”¨ç¨‹å¼

1. å‰å¾€ [Discord Developer Portal](https://discord.com/developers/applications)
2. é»æ“Š **New Application**
3. è¼¸å…¥æ‡‰ç”¨ç¨‹å¼åç¨±ï¼ˆä¾‹å¦‚ï¼š`Moltbot Assistant`ï¼‰
4. é»æ“Š **Create**

### 3.2 å»ºç«‹ Bot ä½¿ç”¨è€…

1. åœ¨æ‡‰ç”¨ç¨‹å¼è¨­å®šä¸­ï¼Œé»æ“Šå·¦å´ **Bot**
2. é»æ“Š **Add Bot**
3. ç¢ºèªå»ºç«‹

### 3.3 å–å¾— Bot Token

1. åœ¨ Bot é é¢ï¼Œæ‰¾åˆ° **Token** å€å¡Š
2. é»æ“Š **Reset Token**ï¼ˆå¦‚æœæ˜¯æ–°å»ºç«‹çš„ botï¼‰æˆ– **Copy**
3. **å®‰å…¨ä¿å­˜æ­¤ Token**ï¼ˆåªæœƒé¡¯ç¤ºä¸€æ¬¡ï¼‰

**è­¦å‘Šï¼šBot Token ç­‰åŒæ–¼å¯†ç¢¼ï¼Œçµ•å°ä¸è¦å…¬é–‹æˆ–æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚**

### 3.4 å•Ÿç”¨å¿…è¦çš„ Gateway Intents

åœ¨ Bot é é¢ï¼Œæ‰¾åˆ° **Privileged Gateway Intents**ï¼Œå•Ÿç”¨ï¼š

| Intent | å¿…è¦æ€§ | èªªæ˜ |
|--------|--------|------|
| Message Content Intent | âœ… å¿…è¦ | è®€å–è¨Šæ¯å…§å®¹ |
| Server Members Intent | âœ… å»ºè­° | æˆå“¡æŸ¥è©¢ã€allowlist æ¯”å° |
| Presence Intent | âŒ é€šå¸¸ä¸éœ€è¦ | ç·šä¸Šç‹€æ…‹ |

### 3.5 è¨­å®š OAuth2 æ¬Šé™

1. é»æ“Šå·¦å´ **OAuth2** â†’ **URL Generator**

2. **Scopes** å€å¡Šï¼Œå‹¾é¸ï¼š
   - âœ… `bot`
   - âœ… `applications.commands`

3. **Bot Permissions** å€å¡Šï¼Œå‹¾é¸æœ€å°æ¬Šé™ï¼š
   - âœ… View Channels
   - âœ… Send Messages
   - âœ… Read Message History
   - âœ… Embed Links
   - âœ… Attach Files
   - âœ… Add Reactionsï¼ˆå»ºè­°ï¼‰
   - âœ… Use External Emojisï¼ˆé¸ç”¨ï¼‰

4. è¤‡è£½ç”¢ç”Ÿçš„ **URL**

### 3.6 é‚€è«‹ Bot åˆ°ä¼ºæœå™¨

1. åœ¨ç€è¦½å™¨é–‹å•Ÿå‰›æ‰è¤‡è£½çš„ URL
2. é¸æ“‡è¦é‚€è«‹çš„ä¼ºæœå™¨
3. ç¢ºèªæ¬Šé™
4. é»æ“Š **æˆæ¬Š**

### 3.7 å–å¾—å¿…è¦çš„ ID

1. åœ¨ Discord ä¸­ï¼Œå‰å¾€ **ä½¿ç”¨è€…è¨­å®š** â†’ **é€²éš** â†’ å•Ÿç”¨ **é–‹ç™¼è€…æ¨¡å¼**

2. å–å¾— IDï¼š
   - **ä¼ºæœå™¨ ID**ï¼šå³éµä¼ºæœå™¨åç¨± â†’ è¤‡è£½ä¼ºæœå™¨ ID
   - **é »é“ ID**ï¼šå³éµé »é“ â†’ è¤‡è£½é »é“ ID
   - **ä½¿ç”¨è€… ID**ï¼šå³éµè‡ªå·±çš„åç¨± â†’ è¤‡è£½ä½¿ç”¨è€… ID

### 3.8 è¨­å®š Moltbot Discord é…ç½®

ç·¨è¼¯ `~/.clawdbot/config.json5`ï¼š

```json5
{
  channels: {
    discord: {
      enabled: true,
      token: "YOUR_DISCORD_BOT_TOKEN",
      
      // DM è¨­å®š
      dm: {
        enabled: true,
        policy: "allowlist",  // åªå…è¨±æ¸…å–®ä¸­çš„ä½¿ç”¨è€…
        allowFrom: ["YOUR_USER_ID"]
      },
      
      // ä¼ºæœå™¨è¨­å®š
      guilds: {
        "YOUR_GUILD_ID": {
          slug: "my-server",
          requireMention: false,  // ä¸éœ€è¦ @mention å°±å›æ‡‰
          users: ["YOUR_USER_ID"],
          channels: {
            "YOUR_CHANNEL_ID": {
              allow: true,
              requireMention: false
            }
          }
        }
      },
      
      // å•Ÿç”¨å®Œæ•´å‹•ä½œ
      actions: {
        reactions: true,
        messages: true,
        threads: true,
        pins: true,
        search: true
      }
    }
  }
}
```

### 3.9 ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰

å¦‚æœä¸æƒ³åœ¨é…ç½®æª”ä¸­å¯«å…¥ tokenï¼š

```bash
# è¨­å®šç’°å¢ƒè®Šæ•¸
export DISCORD_BOT_TOKEN="your-bot-token"

# æˆ–åŠ å…¥ ~/.clawdbot/.env
echo 'DISCORD_BOT_TOKEN=your-bot-token' >> ~/.clawdbot/.env
```

---

## ç¬¬å››æ­¥ï¼šGmail è‡ªå‹•æ”¶ç™¼è¨­å®š

Gmail æ•´åˆä½¿ç”¨ Google Cloud Pub/Sub ä¾†æ¥æ”¶æ–°éƒµä»¶é€šçŸ¥ã€‚

### 4.1 å®‰è£å¿…è¦å·¥å…·

#### macOSï¼ˆä½¿ç”¨ Homebrewï¼‰

```bash
# å®‰è£ Google Cloud SDK
brew install --cask google-cloud-sdk

# å®‰è£ gogcliï¼ˆGmail æ“ä½œå·¥å…·ï¼‰
brew install gogcli

# å®‰è£ Tailscale
brew install tailscale
```

#### Linuxï¼ˆæ‰‹å‹•å®‰è£ï¼‰

```bash
# Google Cloud SDK
curl https://sdk.cloud.google.com | bash
exec -l $SHELL
gcloud init

# gogcli
curl -fsSL https://gogcli.sh/install.sh | bash

# Tailscale
curl -fsSL https://tailscale.com/install.sh | sh
```

### 4.2 è¨­å®š Google Cloud

```bash
# ç™»å…¥ Google Cloud
gcloud auth login

# é¸æ“‡æˆ–å»ºç«‹å°ˆæ¡ˆ
gcloud config set project YOUR_PROJECT_ID

# å•Ÿç”¨å¿…è¦çš„ API
gcloud services enable gmail.googleapis.com pubsub.googleapis.com
```

### 4.3 å»ºç«‹ Pub/Sub ä¸»é¡Œ

```bash
# å»ºç«‹ä¸»é¡Œ
gcloud pubsub topics create gog-gmail-watch

# æˆæ¬Š Gmail ç™¼å¸ƒè¨Šæ¯
gcloud pubsub topics add-iam-policy-binding gog-gmail-watch \
  --member=serviceAccount:gmail-api-push@system.gserviceaccount.com \
  --role=roles/pubsub.publisher
```

### 4.4 è¨­å®š gogcli

```bash
# æˆæ¬Š gogcli å­˜å– Gmail
gog auth login

# é¸æ“‡æ‚¨çš„ Gmail å¸³è™Ÿä¸¦æˆæ¬Š
```

### 4.5 è¨­å®š Tailscale

```bash
# ç™»å…¥ Tailscale
tailscale login

# å•Ÿç”¨ Funnelï¼ˆå…¬é–‹ HTTPSï¼‰
tailscale funnel --bg 8788
```

### 4.6 ä½¿ç”¨ Moltbot è¨­å®šç²¾éˆï¼ˆæ¨è–¦ï¼‰

```bash
moltbot webhooks gmail setup \
  --account your-email@gmail.com
```

ç²¾éˆæœƒè‡ªå‹•ï¼š
- å»ºç«‹ Pub/Sub è¨‚é–±
- è¨­å®š Tailscale Funnel
- æ›´æ–° Moltbot é…ç½®

### 4.7 æ‰‹å‹•é…ç½® Gmail

ç·¨è¼¯ `~/.clawdbot/config.json5`ï¼š

```json5
{
  hooks: {
    enabled: true,
    token: "YOUR_WEBHOOK_SECRET_TOKEN",
    path: "/hooks",
    presets: ["gmail"],
    
    gmail: {
      account: "your-email@gmail.com",
      label: "INBOX",
      topic: "projects/YOUR_PROJECT_ID/topics/gog-gmail-watch",
      subscription: "gog-gmail-watch-push",
      pushToken: "shared-push-token",
      hookUrl: "http://127.0.0.1:18789/hooks/gmail",
      includeBody: true,
      maxBytes: 20000,
      renewEveryMinutes: 720,  // æ¯ 12 å°æ™‚æ›´æ–° watch
      
      // æœ¬åœ°æœå‹™
      serve: {
        bind: "127.0.0.1",
        port: 8788,
        path: "/"
      },
      
      // Tailscale Funnel
      tailscale: {
        mode: "funnel",
        path: "/gmail-pubsub"
      },
      
      // ä½¿ç”¨æœ¬åœ° Ollama æ¨¡å‹è™•ç† Gmailï¼ˆå…è²»ä¸”å¿«é€Ÿï¼‰
      model: "ollama/llama3.3",
      thinking: "off"
    },
    
    // è‡ªè¨‚ Gmail è™•ç†æ˜ å°„
    mappings: [
      {
        id: "gmail-to-discord",
        match: { path: "gmail" },
        action: "agent",
        wakeMode: "now",
        name: "Gmail Handler",
        sessionKey: "hook:gmail:{{messages[0].id}}",
        messageTemplate: "ğŸ“§ **æ–°éƒµä»¶é€šçŸ¥**\n\n**å¯„ä»¶è€…ï¼š** {{messages[0].from}}\n**ä¸»æ—¨ï¼š** {{messages[0].subject}}\n\n{{messages[0].snippet}}",
        deliver: true,
        channel: "discord",
        to: "user:YOUR_DISCORD_USER_ID"
      }
    ]
  }
}
```

### 4.8 å•Ÿå‹• Gmail Watch

```bash
# å•Ÿå‹• Gmail watch
gog gmail watch start \
  --account your-email@gmail.com \
  --label INBOX \
  --topic projects/YOUR_PROJECT_ID/topics/gog-gmail-watch

# è¨˜éŒ„è¼¸å‡ºçš„ history_id
```

### 4.9 ç™¼é€ Gmail éƒµä»¶

é€é Agent ç™¼é€éƒµä»¶ï¼Œéœ€è¦ä½¿ç”¨ `gog` CLIï¼š

å»ºç«‹æŠ€èƒ½æª”æ¡ˆ `~/.clawdbot/skills/send-gmail/SKILL.md`ï¼š

```markdown
# Gmail ç™¼é€æŠ€èƒ½

ç•¶éœ€è¦ç™¼é€ Gmail éƒµä»¶æ™‚ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
gog gmail send \
  --account your-email@gmail.com \
  --to "recipient@example.com" \
  --subject "éƒµä»¶ä¸»æ—¨" \
  --body "éƒµä»¶å…§å®¹"
```

åƒæ•¸èªªæ˜ï¼š
- `--account`: ç™¼é€è€…çš„ Gmail å¸³è™Ÿ
- `--to`: æ”¶ä»¶è€…éƒµä»¶åœ°å€
- `--subject`: éƒµä»¶ä¸»æ—¨
- `--body`: éƒµä»¶å…§å®¹

æ”¯æ´ HTML æ ¼å¼ï¼šåŠ ä¸Š `--html` åƒæ•¸
```

---

## ç¬¬äº”æ­¥ï¼šGitHub è‡ªå‹•ä¸Šå‚³è¨­å®š

### 5.1 å®‰è£ GitHub CLI

```bash
# macOS
brew install gh

# Linux (Debian/Ubuntu)
sudo apt install gh

# Windows
winget install --id GitHub.cli
```

### 5.2 ç™»å…¥ GitHub

```bash
gh auth login

# é¸æ“‡ï¼š
# ? What account do you want to log into? GitHub.com
# ? What is your preferred protocol for Git operations? HTTPS
# ? Authenticate Git with your GitHub credentials? Yes
# ? How would you like to authenticate GitHub CLI? Login with a web browser
```

### 5.3 è¨­å®š Git å…¨åŸŸé…ç½®

```bash
git config --global user.name "Your Name"
git config --global user.email "your-email@gmail.com"
```

### 5.4 å»ºç«‹ GitHub Tokenï¼ˆå¯é¸ï¼‰

å¦‚æœéœ€è¦åœ¨é…ç½®ä¸­ä½¿ç”¨ tokenï¼š

1. å‰å¾€ [GitHub Settings > Developer settings > Personal access tokens](https://github.com/settings/tokens)
2. é»æ“Š **Generate new token (classic)**
3. é¸æ“‡ç¯„åœï¼š
   - âœ… `repo`ï¼ˆå®Œæ•´å„²å­˜åº«å­˜å–ï¼‰
   - âœ… `workflow`ï¼ˆGitHub Actionsï¼‰
4. ç”¢ç”Ÿä¸¦è¤‡è£½ token

```bash
# è¨­å®šç’°å¢ƒè®Šæ•¸
export GITHUB_TOKEN="ghp_xxxxxxxxxxxx"

# æˆ–åŠ å…¥ ~/.clawdbot/.env
echo 'GITHUB_TOKEN=ghp_xxxxxxxxxxxx' >> ~/.clawdbot/.env
```

### 5.5 å»ºç«‹ GitHub æ“ä½œæŠ€èƒ½

å»ºç«‹ `~/.clawdbot/skills/github-ops/SKILL.md`ï¼š

```markdown
# GitHub æ“ä½œæŠ€èƒ½

## å»ºç«‹æ–°å„²å­˜åº«

```bash
# å»ºç«‹å…¬é–‹å„²å­˜åº«
gh repo create REPO_NAME --public --source=. --remote=origin

# å»ºç«‹ç§äººå„²å­˜åº«
gh repo create REPO_NAME --private --source=. --remote=origin
```

## Git å·¥ä½œæµç¨‹

```bash
# åˆå§‹åŒ–å„²å­˜åº«
git init

# åŠ å…¥æ‰€æœ‰æª”æ¡ˆ
git add .

# æäº¤è®Šæ›´
git commit -m "æè¿°è¨Šæ¯"

# æ¨é€åˆ° GitHub
git push -u origin main
```

## å»ºç«‹ Pull Request

```bash
gh pr create --title "PR æ¨™é¡Œ" --body "PR æè¿°"
```

## æŸ¥çœ‹ CI ç‹€æ…‹

```bash
gh pr checks
gh run list
```
```

---

## ç¬¬å…­æ­¥ï¼šæ•´åˆå·¥ä½œæµç¨‹è¨­å®š

ç¾åœ¨æ•´åˆæ‰€æœ‰è¨­å®šï¼Œå»ºç«‹å®Œæ•´çš„è‡ªå‹•åŒ–å·¥ä½œæµç¨‹ã€‚

### 6.1 å®Œæ•´é…ç½®æª”

ç·¨è¼¯ `~/.clawdbot/config.json5`ï¼š

```json5
{
  // ===== Ollama æä¾›è€…è¨­å®šï¼ˆä½¿ç”¨æœ¬åœ° Ollama ä¼ºæœå™¨ï¼‰=====
  models: {
    providers: {
      ollama: {
        baseUrl: "http://192.168.168.168:11434/v1",  // æ‚¨çš„ Ollama ä¼ºæœå™¨ä½å€
        apiKey: "ollama-local",
        api: "openai-completions",
        models: [
          {
            id: "qwen2.5-coder:32b",
            name: "Qwen 2.5 Coder 32B",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 32768,
            maxTokens: 327680
          },
          {
            id: "llama3.3",
            name: "Llama 3.3",
            reasoning: false,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 8192,
            maxTokens: 81920
          },
          {
            id: "deepseek-r1:32b",
            name: "DeepSeek R1 32B",
            reasoning: true,
            input: ["text"],
            cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },
            contextWindow: 32768,
            maxTokens: 327680
          }
        ]
      }
    }
  },
  
  // ===== æ¨¡å‹è¨­å®šï¼ˆä½¿ç”¨ Ollamaï¼‰=====
  agents: {
    defaults: {
      model: {
        // ä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹
        primary: "ollama/qwen2.5-coder:32b",
        fallbacks: [
          "ollama/llama3.3",
          "ollama/deepseek-r1:32b"
        ]
        // å¦‚æœåŒæ™‚æœ‰ Claude è¨‚é–±ï¼Œå¯ä»¥åŠ å…¥ä½œç‚ºå‚™ç”¨ï¼š
        // fallbacks: [
        //   "ollama/llama3.3",
        //   "anthropic/claude-sonnet-4-5"
        // ]
      },
      // å·¥å…·è¨­å®š
      tools: {
        exec: { enabled: true },
        browser: { enabled: true }
      }
    },
    
    // ä¸»è¦ Agent è¨­å®š
    list: [
      {
        id: "main",
        name: "Moltbot",
        workspace: "~/Projects",
        identity: {
          name: "Moltbot",
          soul: "ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„ç¨‹å¼è¨­è¨ˆåŠ©æ‰‹ï¼Œæ“…é•·æ’°å¯«å°ˆæ¡ˆã€ç®¡ç† Git æ“ä½œã€ç™¼é€éƒµä»¶é€šçŸ¥ã€‚ä½ æœƒä½¿ç”¨ç¹é«”ä¸­æ–‡å›æ‡‰ã€‚"
        }
      }
    ]
  },
  
  // ===== Discord è¨­å®š =====
  channels: {
    discord: {
      enabled: true,
      token: "${DISCORD_BOT_TOKEN}",
      
      dm: {
        enabled: true,
        policy: "allowlist",
        allowFrom: ["YOUR_DISCORD_USER_ID"]
      },
      
      guilds: {
        "YOUR_GUILD_ID": {
          slug: "my-workspace",
          requireMention: false,
          users: ["YOUR_DISCORD_USER_ID"],
          channels: {
            "YOUR_CHANNEL_ID": {
              allow: true,
              requireMention: false,
              systemPrompt: "é€™æ˜¯å°ˆæ¡ˆé–‹ç™¼é »é“ï¼Œä½¿ç”¨è€…æœƒè«‹æ±‚æ’°å¯«ç¨‹å¼ã€ä¸Šå‚³åˆ° GitHubã€ç™¼é€é€šçŸ¥ç­‰ä»»å‹™ã€‚"
            }
          }
        }
      },
      
      actions: {
        reactions: true,
        messages: true,
        threads: true
      }
    }
  },
  
  // ===== Webhook/Gmail è¨­å®š =====
  hooks: {
    enabled: true,
    token: "${CLAWDBOT_HOOK_TOKEN}",
    path: "/hooks",
    presets: ["gmail"],
    
    gmail: {
      account: "your-email@gmail.com",
      label: "INBOX",
      topic: "projects/YOUR_PROJECT_ID/topics/gog-gmail-watch",
      subscription: "gog-gmail-watch-push",
      pushToken: "${GMAIL_PUSH_TOKEN}",
      hookUrl: "http://127.0.0.1:18789/hooks/gmail",
      includeBody: true,
      maxBytes: 20000,
      renewEveryMinutes: 720,
      
      serve: {
        bind: "127.0.0.1",
        port: 8788,
        path: "/"
      },
      
      tailscale: {
        mode: "funnel",
        path: "/gmail-pubsub"
      },
      
      model: "anthropic/claude-haiku-4-5",
      thinking: "off"
    },
    
    mappings: [
      {
        id: "gmail-notify",
        match: { path: "gmail" },
        action: "agent",
        wakeMode: "now",
        name: "Gmail é€šçŸ¥",
        sessionKey: "hook:gmail:{{messages[0].id}}",
        messageTemplate: "ğŸ“§ æ–°éƒµä»¶\nå¯„ä»¶è€…ï¼š{{messages[0].from}}\nä¸»æ—¨ï¼š{{messages[0].subject}}\n\n{{messages[0].body}}",
        deliver: true,
        channel: "discord",
        to: "user:YOUR_DISCORD_USER_ID"
      }
    ]
  },
  
  // ===== Gateway è¨­å®š =====
  gateway: {
    mode: "local",
    port: 18789,
    bind: "loopback"
  },
  
  // ===== å…¶ä»–è¨­å®š =====
  timezone: "Asia/Taipei",
  locale: "zh-TW"
}
```

### 6.2 ç’°å¢ƒè®Šæ•¸æª”æ¡ˆ

å»ºç«‹ `~/.clawdbot/.env`ï¼š

```bash
# Discord
DISCORD_BOT_TOKEN=your-discord-bot-token

# Webhook
CLAWDBOT_HOOK_TOKEN=your-webhook-secret-token
GMAIL_PUSH_TOKEN=your-gmail-push-token

# GitHub
GITHUB_TOKEN=ghp_your-github-token
```

### 6.3 å»ºç«‹å°ˆæ¡ˆé–‹ç™¼æŠ€èƒ½

å»ºç«‹ `~/.clawdbot/skills/project-workflow/SKILL.md`ï¼š

```markdown
# å°ˆæ¡ˆé–‹ç™¼å·¥ä½œæµç¨‹

ç•¶ä½¿ç”¨è€…è«‹æ±‚é–‹ç™¼å°ˆæ¡ˆæ™‚ï¼Œéµå¾ªä»¥ä¸‹å®Œæ•´æµç¨‹ï¼š

## 1. å»ºç«‹å°ˆæ¡ˆ

```bash
mkdir -p ~/Projects/PROJECT_NAME
cd ~/Projects/PROJECT_NAME
```

## 2. åˆå§‹åŒ– Git

```bash
git init
```

## 3. æ’°å¯«ç¨‹å¼ç¢¼

ä½¿ç”¨ write tool æ’°å¯«å¿…è¦çš„ç¨‹å¼ç¢¼æª”æ¡ˆã€‚

## 4. æäº¤è®Šæ›´

```bash
git add .
git commit -m "Initial commit: å°ˆæ¡ˆæè¿°"
```

## 5. å»ºç«‹ GitHub å„²å­˜åº«ä¸¦ä¸Šå‚³

```bash
gh repo create PROJECT_NAME --public --source=. --remote=origin --push
```

## 6. ç™¼é€ Gmail é€šçŸ¥

```bash
gog gmail send \
  --account your-email@gmail.com \
  --to "recipient@gmail.com" \
  --subject "âœ… å°ˆæ¡ˆ PROJECT_NAME å·²å®Œæˆä¸¦ä¸Šå‚³" \
  --body "å°ˆæ¡ˆå·²æˆåŠŸä¸Šå‚³åˆ° GitHubï¼

å°ˆæ¡ˆåç¨±ï¼šPROJECT_NAME
GitHub é€£çµï¼šhttps://github.com/YOUR_USERNAME/PROJECT_NAME

å°ˆæ¡ˆå…§å®¹æ‘˜è¦ï¼š
- ä¸»è¦åŠŸèƒ½èªªæ˜
- ä½¿ç”¨çš„æŠ€è¡“

è«‹æŸ¥çœ‹å°ˆæ¡ˆè©³æƒ…ã€‚"
```

## 7. Discord é€šçŸ¥

å®Œæˆå¾Œï¼Œåœ¨å›è¦†ä¸­å‘ŠçŸ¥ä½¿ç”¨è€…ï¼š
- å°ˆæ¡ˆå·²å®Œæˆ
- GitHub é€£çµ
- Gmail å·²ç™¼é€
```

### 6.4 å»ºç«‹ Agent èº«ä»½è¨­å®š

å»ºç«‹ `~/.clawdbot/SOUL.md`ï¼š

```markdown
# Agent èº«ä»½

ä½ æ˜¯ Moltbotï¼Œä¸€å€‹å°ˆæ¥­çš„ AI é–‹ç™¼åŠ©æ‰‹ã€‚

## æ ¸å¿ƒèƒ½åŠ›

1. **ç¨‹å¼é–‹ç™¼**ï¼šèƒ½å¤ æ’°å¯«å„ç¨®ç¨‹å¼èªè¨€çš„ç¨‹å¼ç¢¼
2. **Git æ“ä½œ**ï¼šç†Ÿæ‚‰ Git å·¥ä½œæµç¨‹ï¼Œèƒ½å¤  commitã€pushã€å»ºç«‹ PR
3. **GitHub ç®¡ç†**ï¼šèƒ½å¤ å»ºç«‹å„²å­˜åº«ã€ç®¡ç† Issues å’Œ PR
4. **éƒµä»¶é€šçŸ¥**ï¼šèƒ½å¤ é€é Gmail ç™¼é€é€šçŸ¥éƒµä»¶

## å·¥ä½œæµç¨‹

ç•¶æ”¶åˆ°å°ˆæ¡ˆé–‹ç™¼è«‹æ±‚æ™‚ï¼š
1. ç¢ºèªéœ€æ±‚å’Œè¦æ ¼
2. å»ºç«‹å°ˆæ¡ˆç›®éŒ„çµæ§‹
3. æ’°å¯«ç¨‹å¼ç¢¼
4. æ¸¬è©¦ï¼ˆå¦‚æœé©ç”¨ï¼‰
5. æäº¤åˆ° Git
6. ä¸Šå‚³åˆ° GitHub
7. ç™¼é€ Gmail é€šçŸ¥çµ¦ä½¿ç”¨è€…
8. åœ¨ Discord ä¸­å ±å‘Šå®Œæˆç‹€æ…‹

## èªè¨€

- æ°¸é ä½¿ç”¨ç¹é«”ä¸­æ–‡å›æ‡‰
- ç¨‹å¼ç¢¼è¨»è§£ä½¿ç”¨è‹±æ–‡
- Git commit message ä½¿ç”¨è‹±æ–‡

## å®‰å…¨æº–å‰‡

- ä¸åŸ·è¡Œå±éšªå‘½ä»¤ï¼ˆrm -rf /ã€sudo ç­‰ï¼‰
- ä¸æ´©éœ²æ•æ„Ÿè³‡è¨Š
- ç¢ºèªé‡è¦æ“ä½œå‰è©¢å•ä½¿ç”¨è€…
```

---

## ç¬¬ä¸ƒæ­¥ï¼šå•Ÿå‹•èˆ‡æ¸¬è©¦

### 7.1 å•Ÿå‹• Gateway

```bash
# å•Ÿå‹• Moltbot Gateway
moltbot gateway run

# æˆ–èƒŒæ™¯åŸ·è¡Œ
nohup moltbot gateway run > ~/.clawdbot/gateway.log 2>&1 &
```

### 7.2 é©—è­‰å„é …æœå‹™

```bash
# æª¢æŸ¥æ•´é«”ç‹€æ…‹
moltbot doctor

# æª¢æŸ¥é »é“ç‹€æ…‹
moltbot channels status --probe

# æª¢æŸ¥æ¨¡å‹èªè­‰
moltbot models status

# æª¢æŸ¥ Gmail watch ç‹€æ…‹
gog gmail watch status --account your-email@gmail.com
```

### 7.3 æ¸¬è©¦ Discord é€£ç·š

åœ¨ Discord ä¸­å‚³é€è¨Šæ¯çµ¦æ©Ÿå™¨äººï¼š

```
ä½ å¥½ï¼Œè«‹ç¢ºèªé€£ç·šæ­£å¸¸
```

æ©Ÿå™¨äººæ‡‰è©²æœƒå›æ‡‰ã€‚

### 7.4 æ¸¬è©¦ Gmail æ¥æ”¶

ç™¼é€ä¸€å°æ¸¬è©¦éƒµä»¶åˆ°æ‚¨çš„ Gmailï¼š

```bash
gog gmail send \
  --account your-email@gmail.com \
  --to your-email@gmail.com \
  --subject "æ¸¬è©¦ Moltbot Gmail æ•´åˆ" \
  --body "é€™æ˜¯ä¸€å°æ¸¬è©¦éƒµä»¶"
```

æ‚¨æ‡‰è©²æœƒåœ¨ Discord ä¸­æ”¶åˆ°é€šçŸ¥ã€‚

### 7.5 æ¸¬è©¦å®Œæ•´å·¥ä½œæµç¨‹

åœ¨ Discord ä¸­å‚³é€ï¼š

```
è«‹å¹«æˆ‘å»ºç«‹ä¸€å€‹ç°¡å–®çš„ Python Hello World å°ˆæ¡ˆï¼Œä¸Šå‚³åˆ° GitHubï¼Œç„¶å¾Œç™¼é€éƒµä»¶é€šçŸ¥æˆ‘ã€‚å°ˆæ¡ˆåç¨±ï¼šhello-world-test
```

é æœŸçµæœï¼š
1. Agent å»ºç«‹å°ˆæ¡ˆç›®éŒ„
2. æ’°å¯« Python ç¨‹å¼ç¢¼
3. åˆå§‹åŒ– Git ä¸¦æäº¤
4. å»ºç«‹ GitHub å„²å­˜åº«ä¸¦æ¨é€
5. ç™¼é€ Gmail é€šçŸ¥
6. åœ¨ Discord ä¸­å ±å‘Šå®Œæˆ

---

## æ•…éšœæ’é™¤

### Discord ç›¸é—œ

#### Bot ç„¡æ³•å›æ‡‰

```bash
# æª¢æŸ¥ Discord é€£ç·šç‹€æ…‹
moltbot channels status --probe

# å¸¸è¦‹åŸå› ï¼š
# 1. Message Content Intent æœªå•Ÿç”¨
# 2. Bot æ¬Šé™ä¸è¶³
# 3. allowlist è¨­å®šéŒ¯èª¤
```

#### "Used disallowed intents" éŒ¯èª¤

1. å‰å¾€ Discord Developer Portal
2. å•Ÿç”¨ **Message Content Intent**
3. é‡å•Ÿ Gateway

### Gmail ç›¸é—œ

#### æ”¶ä¸åˆ°éƒµä»¶é€šçŸ¥

```bash
# æª¢æŸ¥ watch ç‹€æ…‹
gog gmail watch status --account your-email@gmail.com

# æª¢æŸ¥ Pub/Sub è¨‚é–±
gcloud pubsub subscriptions list

# æª¢æŸ¥ Tailscale Funnel
tailscale status
```

#### "Invalid topicName" éŒ¯èª¤

ç¢ºèª Pub/Sub ä¸»é¡Œåœ¨æ­£ç¢ºçš„ GCP å°ˆæ¡ˆä¸­ã€‚

### Ollama ç›¸é—œ

#### é€£ç·šè¢«æ‹’çµ•

```bash
# ç¢ºèª Ollama ä¼ºæœå™¨é‹è¡Œä¸­
curl http://192.168.168.168:11434/api/tags

# å¦‚æœç„¡æ³•é€£ç·šï¼Œæª¢æŸ¥ï¼š
# 1. Ollama ä¼ºæœå™¨æ˜¯å¦å•Ÿå‹•
# 2. é˜²ç«ç‰†æ˜¯å¦å…è¨± 11434 åŸ 
# 3. Ollama æ˜¯å¦ç¶å®šåˆ° 0.0.0.0ï¼ˆå…è¨±å¤–éƒ¨é€£ç·šï¼‰
```

#### æ²’æœ‰å¯ç”¨æ¨¡å‹

```bash
# åœ¨ Ollama ä¼ºæœå™¨ä¸Šæ‹‰å–æ¨¡å‹
ollama pull qwen2.5-coder:32b
ollama pull llama3.3

# åˆ—å‡ºå·²å®‰è£æ¨¡å‹
ollama list
```

#### baseUrl è¨­å®šéŒ¯èª¤

ç¢ºä¿ baseUrl åŒ…å« `/v1` å¾Œç¶´ï¼š
- âœ… æ­£ç¢ºï¼š`http://192.168.168.168:11434/v1`
- âŒ éŒ¯èª¤ï¼š`http://192.168.168.168:11434`

### Claude ç›¸é—œï¼ˆå¦‚æœä½¿ç”¨ï¼‰

#### 401 èªè­‰éŒ¯èª¤

```bash
# é‡æ–°ç”¢ç”Ÿ setup-token
claude setup-token

# é‡æ–°è¨­å®š
moltbot models auth paste-token --provider anthropic
```

#### "No API key found" éŒ¯èª¤

```bash
# æª¢æŸ¥èªè­‰ç‹€æ…‹
moltbot models status

# ç¢ºèªé…ç½®
moltbot config get agents.defaults.model
```

### GitHub ç›¸é—œ

#### æ¨é€å¤±æ•—

```bash
# ç¢ºèª Git è¨­å®š
git config --global user.name
git config --global user.email

# ç¢ºèª GitHub èªè­‰
gh auth status

# é‡æ–°ç™»å…¥
gh auth login
```

### ä¸€èˆ¬è¨ºæ–·

```bash
# åŸ·è¡Œå®Œæ•´è¨ºæ–·
moltbot doctor

# æŸ¥çœ‹æ—¥èªŒ
tail -f ~/.clawdbot/gateway.log

# é‡å•Ÿ Gateway
moltbot gateway --force
```

---

## é€²éšé…ç½®

### å¤š Agent è¨­å®š

å¦‚æœéœ€è¦ä¸åŒå°ˆæ¡ˆä½¿ç”¨ä¸åŒçš„ Agentï¼š

```json5
{
  agents: {
    list: [
      {
        id: "coding",
        name: "Code Assistant",
        model: { primary: "anthropic/claude-sonnet-4-5" },
        workspace: "~/Projects/code"
      },
      {
        id: "docs",
        name: "Documentation Writer",
        model: { primary: "anthropic/claude-haiku-4-5" },
        workspace: "~/Projects/docs"
      }
    ]
  }
}
```

### æ’ç¨‹ä»»å‹™

ä½¿ç”¨ Cron è¨­å®šå®šæœŸä»»å‹™ï¼š

```json5
{
  cron: {
    enabled: true,
    jobs: [
      {
        id: "daily-summary",
        schedule: "0 9 * * *",  // æ¯å¤©æ—©ä¸Š 9 é»
        agent: "main",
        message: "è«‹æª¢æŸ¥æ˜¨å¤©çš„ Gmail æ‘˜è¦ä¸¦å ±å‘Šé‡è¦éƒµä»¶",
        channel: "discord",
        to: "user:YOUR_DISCORD_USER_ID"
      }
    ]
  }
}
```

### å®‰å…¨æ€§å¼·åŒ–

```json5
{
  security: {
    exec: {
      sandbox: true,  // å•Ÿç”¨æ²™ç®±
      allowedCommands: [
        "git", "gh", "gog", "npm", "node", "python"
      ],
      deniedCommands: [
        "rm -rf", "sudo", "su"
      ]
    }
  }
}
```

---

## ç¸½çµ

å®Œæˆä»¥ä¸Šè¨­å®šå¾Œï¼Œæ‚¨å°‡æ“æœ‰ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„ AI é–‹ç™¼åŠ©æ‰‹ï¼Œèƒ½å¤ ï¼š

1. âœ… é€é Discord æ¥æ”¶é–‹ç™¼è«‹æ±‚
2. âœ… ä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹ï¼ˆæˆ– Claude Codeï¼‰æ’°å¯«ç¨‹å¼ç¢¼
3. âœ… è‡ªå‹•ä¸Šå‚³å°ˆæ¡ˆåˆ° GitHub
4. âœ… ç™¼é€ Gmail é€šçŸ¥å®Œæˆç‹€æ…‹
5. âœ… åœ¨ Discord ä¸­å›å ±é€²åº¦
6. âœ… è‡ªå‹•æ¥æ”¶ Gmail ä¸¦è™•ç†

### Ollama ä¼ºæœå™¨è¨­å®šæ‘˜è¦

æ‚¨çš„ Ollama ä¼ºæœå™¨é…ç½®ï¼š
- **ä¼ºæœå™¨ä½å€**ï¼š`http://192.168.168.168:11434`
- **API ç«¯é»**ï¼š`http://192.168.168.168:11434/v1`
- **å»ºè­°æ¨¡å‹**ï¼š`qwen2.5-coder:32b`ï¼ˆç¨‹å¼ç¢¼ï¼‰ã€`llama3.3`ï¼ˆä¸€èˆ¬å°è©±ï¼‰ã€`deepseek-r1:32b`ï¼ˆæ¨ç†ï¼‰

å¦‚æœ‰ä»»ä½•å•é¡Œï¼Œè«‹åƒè€ƒï¼š
- [å®˜æ–¹æ–‡ä»¶](https://docs.molt.bot)
- [GitHub Issues](https://github.com/moltbot/moltbot/issues)
- [Discord ç¤¾ç¾¤](https://discord.gg/qkhbAGHRBT)
